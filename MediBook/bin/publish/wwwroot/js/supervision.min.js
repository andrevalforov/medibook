function onControlChange(n){n.val()==""?n.removeClass("control--with-value"):n.addClass("control--with-value");animateLabelFor(n)}function animateLabelFor(n){var t=n.parent().find(".label");n.hasClass("control--with-value")||(n.hasClass("text-box")||n.hasClass("text-area"))&&n.hasClass("control--focused")?t.addClass("field__label--with-value"):t.removeClass("field__label--with-value")}function getCulture(){return location.href.indexOf("/ru/")!=-1?"ru":location.href.indexOf("/uk/")!=-1?"uk":"en"}function onNavigationToggleClick(){var n=$("#navigation");n.is(":visible")?n.slideUp("fast"):n.slideDown("fast")}function onTopicChange(){var n=$("#topicId").val();location.href=n==0?"/"+getCulture()+"/supervisors":"/"+getCulture()+"/supervisors?topicid="+n}function showUnableToCancelSupervisionMessage(n){alert("На жаль, скасувати заплановану супервізію вже неможливо, оскільки до її початку залишилося менше "+n+" годин.")}function cancelSupervisionBySupervisee(n){confirm("Скасувати супервізію? Супервізор отримає відповідне повідомлення електронною поштою автоматично.")&&$.post("/"+getCulture()+"/supervisees/me/supervisions/"+n+"/cancel",function(){location.reload()})}function cancelSupervisionBySupervisor(n,t){confirm("Скасувати супервізію? Супервізант отримає відповідне повідомлення електронною поштою автоматично.")&&$.post("/"+t+"/supervisors/me/supervisions/"+n+"/cancel",function(){location.reload()})}function completeSupervisionBySupervisor(n,t,i){location.href="/"+getCulture()+"/supervisors/me/supervisions/"+n+"/complete?supervisorstatus="+t+"&redirectUrl="+i}function completeSupervisionBySupervisee(n,t,i){location.href="/"+getCulture()+"/supervisees/me/supervisions/"+n+"/complete?superviseestatus="+t+"&redirectUrl="+i}function onCalendarFiltersChange(n,t){var i=$("#year").val(),r=$("#month").val();i&&r&&$.get("/"+getCulture()+"/calendar/"+n+"/"+t+"?year="+i+"&month="+r,function(n){$("#calendarContainer").html(n)})}function cityListChanged(n){const r=n.currentTarget.value,t=new XMLHttpRequest,i=location.pathname.substring(1,location.pathname.length),u=i.substring(0,i.indexOf("/"));t.onreadystatechange=n=>{t.readyState==4&&t.status==200&&(document.getElementById("OrganizationId").innerHTML="",document.getElementById("UserPositionId").innerHTML="",setNewOrganisations(JSON.parse(n.currentTarget.response)))};t.open("GET","/"+u+"/api/organizations/"+r);t.send()}function setNewOrganisations(n){n.forEach(n=>{const t=document.createElement("option");t.textContent=n.text;t.value=n.value;document.getElementById("OrganizationId").append(t)});const t=document.createEvent("Event");t.initEvent("change",!0,!0);document.getElementById("OrganizationId").dispatchEvent(t)}function organisationListChanged(n){const r=n.currentTarget.value,t=new XMLHttpRequest,i=location.pathname.substring(1,location.pathname.length),u=i.substring(0,i.indexOf("/"));t.onreadystatechange=n=>{t.readyState==4&&t.status==200&&(document.getElementById("UserPositionId").innerHTML="",setNewUserpositions(JSON.parse(n.currentTarget.response)))};t.open("GET","/"+u+"/api/userpositions/"+r);t.send()}function setNewUserpositions(n){n.forEach(n=>{const t=document.createElement("option");t.textContent=n.text;t.value=n.value;document.getElementById("UserPositionId").append(t)})}function acceptLicenseChanged(){const n=$("#submitRegistration");n.attr("disabled")?n.removeAttr("disabled"):n.attr("disabled",!0)}$(document).ready(function(){$(".text-box, .text-area, .drop-down-list").each(function(n,t){onControlChange($(t))});setTimeout(function(){$("body").removeClass("disable-animation")},1e3)});$(document.body).on("change",".text-box, .text-area, .drop-down-list",function(){var n=$(this);onControlChange(n)});$(document.body).on("focus",".text-box, .text-area, .drop-down-list",function(){var n=$(this);n.addClass("control--focused");animateLabelFor(n)});$(document.body).on("blur",".text-box, .text-area, .drop-down-list",function(){var n=$(this);n.removeClass("control--focused");animateLabelFor(n)});$(document.body).on("click",".tabs__tab",function(){return $(".tabs__tab").removeClass("tabs__tab--active"),$(".tab-pages__tab-page").hide(),$(this).addClass("tabs__tab--active"),$("#tabPage"+$(this).data("tabPageId")).show(),!1});$(".tabs__tab").first().click();$(function(){var n=$("#showMoreResponses");if(n.length)n.on("click",function(){$("#moreReviews").slideDown(300,function(){n.hide()})})});$(function(){function n(n,t){var i=$(n);if(i.length)i.on("click",function(n){var r=$(n.currentTarget),i=new XMLHttpRequest,f=location.pathname.substring(1,location.pathname.length),o=f.substring(0,f.indexOf("/")),s=r.data("code"),h=r.data("type"),u=r.data("skip"),e=u+10;i.onreadystatechange=function(n){if(i.readyState==2){var u=i.getResponseHeader("Total");e>u&&r.remove()}i.readyState==4&&i.status==200&&$(t).append(n.currentTarget.response)};i.open("GET",`/${o}/api/${h}/supervisions?code=${s}&skip=${u}&take=${e}`);i.send();r.data("skip",u+10)})}n("#showMoreSupervisionsCurrent","#supervisionsContainerCurrent");n("#showMoreSupervisionsArchived","#supervisionsContainerArchived")});const cityList=document.getElementById("CityId");cityList&&cityList.addEventListener("change",cityListChanged);const organizationList=document.getElementById("OrganizationId");organizationList&&organizationList.addEventListener("change",organisationListChanged);