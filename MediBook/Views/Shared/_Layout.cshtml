@using Microsoft.AspNetCore.Authentication;
@using System.Security.Claims;
@{
    ClaimsPrincipal principal = (await this.Context.AuthenticateAsync("FrontendCookies"))?.Principal;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="description" content="@Html.Raw(this.ViewBag.MetaDescription as string)" />
    <meta name="keywords" content="@Html.Raw(this.ViewBag.MetaKeywords as string)" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes" />
    <title>@Html.Raw(this.ViewBag.Title as string)</title>
    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap&subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap&subset=cyrillic" rel="stylesheet">
    <link href="~/css/supervision.min.css" rel="stylesheet" />
    @RenderSection("head", false)
</head>
<body class="disable-animation">
    <div class="__container container">
        <div class="container__header header">
            <a class="header__logo no-highlighting" href="/">MediBook</a>
            <div class="header__navigation" id="navigation">
                @await Component.InvokeAsync("Menu", new { additionalCssClass = "header__main-menu", code = "MainMenu" })
                <div class="header__user-menu-and-culture-selector">
                    @if (principal?.IsInRole("Doctor") ?? false)
                    {
                        @await Component.InvokeAsync("Menu", new { additionalCssClass = "header__user-menu", code = "DoctorUserMenu" })
                    }
                    else if (principal?.IsInRole("Patient") ?? false)
                    {
                        @await Component.InvokeAsync("Menu", new { additionalCssClass = "header__user-menu", code = "PatientUserMenu" })
                    }
                    else
                    {
                        @await Component.InvokeAsync("Menu", new { additionalCssClass = "header__user-menu", code = "AnonymousUserMenu" })
                    }
                </div>
            </div>
            <div class="header__navigation-toggle navigation-toggle" onclick="return onNavigationToggleClick();">
                <div class="navigation-toggle__line navigation-toggle__line--1"></div>
                <div class="navigation-toggle__line navigation-toggle__line--2"></div>
                <div class="navigation-toggle__line navigation-toggle__line--3"></div>
            </div>
        </div>
        @RenderBody()
        <div class="container__footer footer">
            <div class="__box">
                <div class="footer__copyright">
                    © MediBook, 2024
                </div>
                <div class="footer__bottom-menu menu">
                    <div class="menu__item">Andrii Alforov</div>
                    <div class="menu__item">andrevpost@gmail.com</div>
                    @*<div class="menu__item"><a class="menu__item-name" href="/end-user-agreement">Угода з кінцевим користувачем</a></div>
                    <div class="menu__item"><a class="menu__item-name" href="/disclaimer">Відмова від відповідальності</a></div>*@
                </div>
            </div>
        </div>
    </div>
    <script src="//ajax.aspnetcdn.com/ajax/jquery/jquery-1.11.3.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/jquery.validation.unobtrusive/3.2.6/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/js/supervision.min.js"></script>
</body>
</html>