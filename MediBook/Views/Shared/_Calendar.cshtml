@model MediBook.ViewModels.Shared.CalendarViewModel
@{
  string isBeforeToday = Model.FirstDate <= DateTime.Today ? "table__cell--before-today" : string.Empty;
}
<table class="content__table table table--heading" cellpadding="0" cellspacing="0">
  <tr class="table__row">
    <th class="table__cell table__cell--heading">Пн</th>
    <th class="table__cell table__cell--heading">Вт</th>
    <th class="table__cell table__cell--heading">Ср</th>
    <th class="table__cell table__cell--heading">Чт</th>
    <th class="table__cell table__cell--heading">Пт</th>
    <th class="table__cell table__cell--heading">Сб</th>
    <th class="table__cell table__cell--heading">Нд</th>
  </tr>
</table>
<table class="table" cellpadding="0" cellspacing="0">
  @for (int i = 0; i < 6; i++)
  {
    <tr class="table__row">
      @for (int j = 0; j < 7; j++)
      {
        string additionalCellClass = string.IsNullOrWhiteSpace(Model.DaysByWeeks[i, j].Url) ? "table__cell--inactive" : string.Empty;
        string onClickAction = string.IsNullOrWhiteSpace(Model.DaysByWeeks[i, j].Url) ? string.Empty : $"location.href = '{Model.DaysByWeeks[i, j].Url}'";
        string isToday = Model.DaysByWeeks[i, j].IsToday ? "table__cell--today" : string.Empty;
        if (isToday != string.Empty) isBeforeToday = string.Empty;

        if (Model.DaysByWeeks[i, j].ConsultationNumber == 0)
        {
          <td class="table__cell @additionalCellClass @isToday @isBeforeToday" onclick="@onClickAction">
            @Model.DaysByWeeks[i, j].Date.Day.ToString("00")
          </td>
        }
        else
        {
          <td class="table__cell table__cell--with-supervisions @additionalCellClass @isToday @isBeforeToday" onclick="@onClickAction" data-consultations="@Model.DaysByWeeks[i, j].ConsultationNumber">
            @Model.DaysByWeeks[i, j].Date.Day.ToString("00")
          </td>
        }
      }
    </tr>
  }
</table>